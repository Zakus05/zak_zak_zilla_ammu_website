<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Ammu ğŸ‚ğŸ’–</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body class="bg-gradient-to-br from-pink-200 via-pink-100 to-pink-300 text-center min-h-screen flex flex-col items-center justify-center overflow-hidden">

    <!-- Progress bar -->
    <div class="w-3/4 bg-pink-300 rounded-full h-2 mb-4">
        <div id="progress-bar" class="bg-pink-600 h-2 rounded-full" style="width: 0%"></div>
    </div>

    <!-- Floating heart background -->
    <canvas id="bg-canvas" class="fixed top-0 left-0 w-full h-full z-0"></canvas>

    <!-- Steps -->
    <div id="steps-container" class="relative z-10 max-w-xl mx-auto p-6 bg-white rounded-3xl shadow-xl bg-opacity-90">
        <!-- Step 1 -->
        <div class="step hidden">
            <h1 class="text-3xl font-bold text-pink-600">ğŸ‰ Happy Birthday Ammu ğŸ‰</h1>
            <p class="mt-4 text-lg">To my cutie, honey, sweety, zak Zak zilla, zaki boom boom ğŸ’–</p>
            <button class="next-btn mt-6 bg-pink-500 text-white px-4 py-2 rounded-lg shadow hover:bg-pink-600">Next â¡ï¸</button>
        </div>

        <!-- Step 2 -->
        <div class="step hidden">
            <h1 class="text-2xl font-bold text-pink-500">ğŸŒ¸ Islamic Wishes ğŸŒ¸</h1>
            <p class="mt-4 italic">"May Allah bless you with happiness, health, and Iman, and make you among the most beloved to Him." ğŸ¤²</p>
            <p class="mt-2 text-sm">â€” Prophet Muhammad ï·º</p>
            <button class="next-btn mt-6 bg-pink-500 text-white px-4 py-2 rounded-lg shadow hover:bg-pink-600">Next â¡ï¸</button>
        </div>

        <!-- Step 3 -->
        <div class="step hidden">
            <h1 class="text-2xl font-bold text-pink-500">â¤ï¸ Special Dua â¤ï¸</h1>
            <p class="mt-4">"Hearts are like vessels, and the best vessel is the one that holds love and kindness." â€” Hazrat Ali (RA)</p>
            <button class="next-btn mt-6 bg-pink-500 text-white px-4 py-2 rounded-lg shadow hover:bg-pink-600">Next â¡ï¸</button>
        </div>

        <!-- Step 4 -->
        <div class="step hidden">
            <h1 class="text-2xl font-bold text-pink-500">ğŸ Surprise Time ğŸ</h1>
            <p class="mt-4">Click below for your special birthday surprise!</p>
            <button id="next-btn-4" class="mt-6 bg-pink-500 text-white px-4 py-2 rounded-lg shadow hover:bg-pink-600">Your Special Surprise ğŸ</button>
        </div>

        <!-- Step 5 -->
        <div class="step hidden">
            <h1 class="text-3xl font-bold text-pink-600">ğŸ’– Happy Birthday Ammu ğŸ’–</h1>
            <p class="mt-4 text-lg">I love you more than words can say. You are my heart, my soul, and my forever. May Allah bless you always. ğŸ¤</p>
            <audio id="bg-music" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_3a5b97b4b4.mp3" preload="auto"></audio>
        </div>
    </div>

<script>
let currentStep = 0;
const steps = document.querySelectorAll('.step');
const progressBar = document.getElementById('progress-bar');

function showStep(index) {
    steps.forEach((step, i) => step.classList.toggle('hidden', i !== index));
    progressBar.style.width = `${(index / (steps.length - 1)) * 100}%`;
}
showStep(currentStep);

// Next buttons
document.querySelectorAll('.next-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        currentStep++;
        showStep(currentStep);
    });
});

// Step 4 â†’ Step 5 + Celebration
document.getElementById('next-btn-4').addEventListener('click', () => {
    currentStep = 4;
    showStep(4);
    currentStep = 5;
    showStep(5);

    // Play background music
    const bgMusic = document.getElementById('bg-music');
    if (bgMusic) {
        bgMusic.play().catch(err => console.log("Music autoplay blocked:", err));
    }

    // Confetti celebration
    confetti({ particleCount: 200, spread: 120, origin: { y: 0.6 } });
    setTimeout(() => {
        confetti({ particleCount: 150, spread: 100, origin: { y: 0.7 } });
    }, 1000);

    // Heart shower
    const heartShower = setInterval(() => {
        const heart = document.createElement("div");
        heart.innerHTML = "ğŸ’–";
        heart.style.position = "fixed";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.top = "-20px";
        heart.style.fontSize = Math.random() * 24 + 20 + "px";
        heart.style.opacity = Math.random();
        heart.style.zIndex = "9999";
        heart.style.pointerEvents = "none";
        heart.style.animation = "fall 4s linear forwards";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
    }, 200);
    setTimeout(() => clearInterval(heartShower), 10000);
});

// Heart fall CSS
const style = document.createElement('style');
style.innerHTML = `
@keyframes fall {
    to {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
    }
}`;
document.head.appendChild(style);

// Floating 3D hearts
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), alpha: true });
renderer.setSize(window.innerWidth, window.innerHeight);

const heartShape = new THREE.Shape();
heartShape.moveTo(0, 0);
heartShape.bezierCurveTo(0, 0, 0, 0.5, -0.5, 0.5);
heartShape.bezierCurveTo(-1, 0.5, -1, -0.5, 0, -1);
heartShape.bezierCurveTo(1, -0.5, 1, 0.5, 0.5, 0.5);
heartShape.bezierCurveTo(0, 0.5, 0, 0, 0, 0);

const extrudeSettings = { depth: 0.2, bevelEnabled: true, bevelSegments: 2, steps: 2, bevelSize: 0.05, bevelThickness: 0.05 };
const geometry = new THREE.ExtrudeGeometry(heartShape, extrudeSettings);
const material = new THREE.MeshPhongMaterial({ color: 0xff69b4 });

let hearts = [];
for (let i = 0; i < 30; i++) {
    const mesh = new THREE.Mesh(geometry, material);
    mesh.position.set((Math.random() - 0.5) * 10, Math.random() * 5, (Math.random() - 0.5) * 10);
    scene.add(mesh);
    hearts.push(mesh);
}

const light = new THREE.PointLight(0xffffff, 1, 100);
light.position.set(5, 5, 5);
scene.add(light);
camera.position.z = 5;

function animate() {
    requestAnimationFrame(animate);
    hearts.forEach(h => {
        h.rotation.x += 0.01;
        h.rotation.y += 0.01;
        h.position.y -= 0.01;
        if (h.position.y < -5) h.position.y = 5;
    });
    renderer.render(scene, camera);
}
animate();
</script>

</body>
</html>
